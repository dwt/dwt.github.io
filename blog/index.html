
<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../static/bootstrap-4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/style.css">
    <link rel="stylesheet" href="../static/pygments.css">
    <title>Blog</title>
    <link rel="alternate" type="application/atom+xml" title="RSS: Martin H√§ckers Blog Artikel" href="feed.xml" />
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-sm">
  <a href="../" class="navbar-brand ">üè†</a>
  <input type="checkbox" id="navbar-toggle-checkbox">
  <label for="navbar-toggle-checkbox" class="navbar-brand navbar-toggle d-sm-none float-right" aria-label="Navigation Umschalten">
    <span></span>
  </label>
  <ul class="navbar-nav collapse navbar-collapse">
    
      <li class="nav-item "><a href="../work/" class="nav-link">Professionelle Softwareentwicklung</a></li>
    
      <li class="nav-item "><a href="../projects/" class="nav-link">Projekte</a></li>
    
      <li class="nav-item "><a href="../publications/" class="nav-link">Ver√∂ffentlichungen und Vortr√§ge</a></li>
    
      <li class="nav-item active"><a href="./" class="nav-link">Blog<span class="sr-only">(ausgew√§hlt)</span></a></li>
    
      <li class="nav-item "><a href="../categories/" class="nav-link">Kategorien</a></li>
    
    <li class="nav-item ml-auto">
      <a class=nav-link href="./">üá©üá™</a>
    </li>
    <li class="nav-item pull-right">
      <a class=nav-link href="../en/blog/">üá¨üáß</a>
    </li>
  </ul>
</nav>
<nav class="breadcrumb">
  

  

<a class="breadcrumb-item " href="../">üè†</a>


<a class="breadcrumb-item active" href="./">Blog</a>

</nav>
    </header>
    <article class="page blog  container-fluid">
      
  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/10/wie-wir-mit-1password-alle-unsere-secrets-aus-repos-und-deployments-entfernen-koennen/">
        Wie wir mit 1Password alle unsere Secrets aus Repos und Deployments entfernen k√∂nnen
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-10-10">Freitag, 10. Oktober 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/10/wie-wir-mit-1password-alle-unsere-secrets-aus-repos-und-deployments-entfernen-koennen/1password-from-chaos-to-order.png" alt="Vom Chaos zur Ordnung mit 1Password"></p>
<h2>Wie wir mit 1Password alle unsere Secrets aus Repos und Deployments entfernen k√∂nnen</h2>
<p>In regulierten Umgebungen wie KRITIS gilt: Sicherheitsma√ünahmen m√ºssen dem <em>Stand der Technik</em> entsprechen. Dazu geh√∂rt auch, dass Passw√∂rter und andere Geheimnisse nicht unkontrolliert in Repositories oder Deployments liegen. Wenn ein Mitarbeiter das Team verl√§sst oder ein System kompromittiert wird, m√ºssen alle betroffenen Secrets schnell und nachvollziehbar rotiert werden.</p>
<p>Mit 1Password k√∂nnen wir diesen Schritt gehen. Wir verwalten unsere Secrets gemeinsam, versionieren sie und injizieren sie automatisiert in die Systeme, die sie wirklich brauchen.</p>
<h3>Der Ausl√∂ser: Ein Gespr√§ch auf der it-sa</h3>
<p>Auf der it-sa-Messe sprach ich mit einem Solution-Architekten von 1Password. Ich wollte verstehen, warum unsere bisherigen Versuche, Secrets aus Entwicklungsumgebungen zu entfernen und im Deployment wieder zu injizieren, noch so holprig waren. Das Gespr√§ch zeigte mir, wie viel mehr in diesem Thema steckt ‚Äì organisatorisch und technisch.</p>
<h3>Aha-Moment 1: Mit der 1Password CLI aus dem .env-Chaos zur gemeinsamen Quelle der Wahrheit</h3>
<p>Mein erster Aha-Moment: Mit der 1Password CLI (<code>op read</code>, <code>op run</code>) lassen sich Secrets direkt abrufen. Fr√ºher musste sich jeder Entwickler f√ºr jedes Projekt eine <code>.env</code>-Datei besorgen ‚Äì oft per Chat oder aus einem gemeinsam genutzten Vault. Das f√ºhrte zu veralteten Dateien, fehlender Synchronisierung und unn√∂tigem Aufwand f√ºr neue Teammitglieder.</p>
<p>Mit der CLI √§ndert sich das grundlegend. <code>.env</code>-Dateien k√∂nnen jetzt eingecheckt werden, weil sie keine Secrets mehr enthalten, sondern nur <em><a href="https://developer.1password.com/docs/cli/secret-references/">Referenzen</a></em> darauf. Im Repository ist dokumentiert, welche Secrets ben√∂tigt werden und aus welchem Vault sie stammen ‚Äì nicht aber deren Werte.</p>
<ul>
<li><code>op read op://vault/item/field</code> ruft gezielt einzelne Werte ab.</li>
<li><code>op run --env-file=.env -- &lt;befehl&gt;</code> l√∂st Secret-Referenzen automatisch als Environment-Variablen auf.</li>
</ul>
<p>Das Ergebnis: eine konsistente Basis f√ºr Secrets, die nicht mehr per Hand verteilt werden muss. Entwickler m√ºssen nur die CLI einrichten und sich gelegentlich per Fingerabdruck authentisieren. Das ist ein kleiner Preis f√ºr saubere und sichere Umgebungen.</p>
<h3>Aha-Moment 2: Rotation und Compliance als entscheidende Faktoren</h3>
<p>In KRITIS-Umgebungen geht es nicht nur um technische Sicherheit, sondern auch um Nachvollziehbarkeit und Compliance. Verschl√ºsselte Secrets im Repository (bei uns meist <code>SealedSecrets</code>) wirken zun√§chst praktisch, weil alle Informationen lokal im Projekt liegen. Doch sie erf√ºllen zentrale Anforderungen an Kontrolle und Auditierbarkeit nur unzureichend.</p>
<ul>
<li>Alte Commits enthalten weiterhin alte Secrets. Selbst wenn sie nicht mehr genutzt werden, bleiben sie Teil der Historie.</li>
<li>Dritte (z.‚ÄØB. GitLab oder externe Partner) haben Zugriff auf verschl√ºsselte Artefakte, die sp√§ter durch Algorithmus‚ÄëSchw√§chen oder fehlerhafte Schl√ºsselverwaltung entschl√ºsselt werden k√∂nnten.</li>
<li>Es gibt keine zentrale Rotation oder Rechteverwaltung. Jede Projektgruppe m√ºsste selbst festlegen, wann und wie Secrets erneuert werden.</li>
</ul>
<p>Gerade bei KRITIS gilt: Der Nachweis, dass Secrets regelm√§√üig rotiert, √ºberpr√ºft und entzogen werden, ist Teil der Compliance. 1Password unterst√ºtzt das mit klaren Berechtigungen, nachvollziehbaren Aktionen und zentraler Ablage.</p>
<h3>Aha-Moment 3: Projektbasierte Vaults machen Rechteverwaltung erst m√∂glich</h3>
<p>Ein weiteres wichtiges Konzept: projektbezogene Vaults mit eigenen Tokens und Rechten. Viele Personen ‚Äì auch au√üerhalb der Teams ‚Äì hatten bisher Zugriff auf mehrere oder alle Vaults. Dadurch war der effektive Zugriff auf Secrets zu breit gestreut und schwer nachvollziehbar.</p>
<p>Projektbasierte Vaults und projektspezifische Zug√§nge reduzieren den Zugriff erheblich. Nur Teams oder Personen, die Secrets wirklich ben√∂tigen, haben Zugriff. Geheimnisse lassen sich gezielt rotieren, ohne dass andere Systeme betroffen sind. Zugriffsrechte k√∂nnen klar pro Projekt definiert werden.</p>
<h3>Aha-Moment 4: Service-Accounts als sichere Br√ºcke zwischen Projekten und Deployments</h3>
<p>F√ºr Deployments ergibt sich daraus ein weiterer Aha-Moment. Service-Accounts, die nur Zugriff auf den Vault des jeweiligen Projekts haben, sind v√∂llig ausreichend, um ein Deployment durchzuf√ºhren. Diese Accounts k√∂nnen im Projekt referenziert werden, w√§hrend ihre Zugangsdaten in einem separaten Vault liegen, der nur f√ºr Deployment-Prozesse zug√§nglich ist.</p>
<p>So entf√§llt die Notwendigkeit, dass Entwickler direkte Zug√§nge zu produktiven Secrets haben. Der Schutz der Produktionsumgebung wird zu einem festen Bestandteil der Infrastruktur und ist keine Frage von Disziplin oder Vertrauen mehr.</p>
<blockquote><p><strong>üîç Exkurs: Warum nicht einfach SealedSecrets oder SOPS?</strong></p>
<p>In unserer Umgebung nutzen wir derzeit noch <strong><a href="https://github.com/bitnami-labs/sealed-secrets">SealedSecrets</a></strong>, um Secrets verschl√ºsselt im Git-Repository zu speichern. Das funktioniert, l√∂st aber die strukturellen Probleme nicht: Secrets bleiben an den Code gekoppelt, Rotation ist umst√§ndlich, und alte Commits behalten alte Secrets.</p>
<p><strong><a href="https://github.com/getsops/sops">SOPS</a></strong> ist flexibler, weil es verschiedene Key-Provider (z.‚ÄØB. AWS KMS oder GCP KMS) unterst√ºtzt und sich gut in GitOps-Workflows integrieren l√§sst. Trotzdem bleibt das Grundproblem: Secrets liegen weiterhin im Repository. Wer Zugriff auf den Code hat, hat indirekt auch Zugriff auf verschl√ºsselte Geheimnisse.</p>
<p><strong>1Password</strong> geht hier einen Schritt weiter: Secrets verlassen nie das System. Sie werden zentral koordiniert, revisionssicher auditiert und √ºber CLI oder Service-Accounts nur tempor√§r injiziert. Der Unterschied liegt nicht in der Verschl√ºsselung selbst, sondern in der <em>Verantwortungszuordnung</em> und der M√∂glichkeit, Zugriff und Rotation einheitlich zu steuern. F√ºr uns ist das die praktikabelste L√∂sung.</p>
</blockquote>
<h3>Fazit: Einheitliche Steuerung als Schl√ºssel zur Sicherheit ‚Äì und bitte um Feedback</h3>
<p>Kurz gesagt: Lokale, im Repository oder CI-System verschl√ºsselte Secrets sind bequem, aber langfristig riskant. Eine einheitlich verwaltete L√∂sung mit 1Password l√∂st diese Probleme. Sie ist auditierbar, kontrolliert zug√§nglich und vereinfacht die Rotation. Das reduziert Sicherheitsrisiken und macht es √ºberfl√ºssig, dass Entwickler produktive Secrets √ºberhaupt kennen ‚Äì Deployments ziehen sie automatisch und tempor√§r bei Bedarf.</p>
<p><strong>Ich bin √ºberzeugt, dass wir mit diesem Ansatz den richtigen Weg eingeschlagen haben.</strong> Vereinheitlichung, Automatisierung und Trennung von Wissen sind f√ºr mich der <em>Stand der Technik</em>.</p>
<p><strong>Was meinst du dazu?</strong>
Das ist mein aktueller Blick auf diese Herausforderungen. Gibt es Aspekte, die ich noch nicht bedacht habe oder Schwachstellen in diesem Ansatz? Ich freue mich √ºber Feedback, um daraus sp√§ter einen guten ADR f√ºr das Architekturforum zu entwickeln.</p>

    </section>
    
      <footer>
        <a href="2025/10/wie-wir-mit-1password-alle-unsere-secrets-aus-repos-und-deployments-entfernen-koennen/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/9/warum-man-backups-und-disaster-recovery-zusammen-denken-sollte/">
        Backup ohne verprobte Recovery ist wertlos ‚Äì 5 Gr√ºnde
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-09-29">Montag, 29. September 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/9/warum-man-backups-und-disaster-recovery-zusammen-denken-sollte/backup-ohne-recovery.png" alt="Backup und Recovery"></p>
<p>Auf der DevOpsCon 25 in Berlin habe ich viel aus dem Vortrag <a href="https://devopscon.io/devsecops/backup-disaster-recovery/">Backup and Disaster Recovery: Business as Usual or What Needs to Change Now? - DevOps Conference &amp; Camps</a> gezogen. Zum technischen Inhalt gehe ich noch mal Separat ein, aber zuerst wollte ich meine Schl√ºssel-Lernergebnisse auf einer sehr hohen Flugh√∂he mitbringen.</p>
<h2>1. Backups ohne Restore sind nur Datenfriedh√∂fe</h2>
<p>Ein Backup ist kein Wert an sich. Es ist nur die Basis f√ºr Gesch√§ftskontinuit√§t ‚Äì erst der funktionierende Restore bringt das Unternehmen zur√ºck ins Gesch√§ft.</p>
<h2>2. Zeit entscheidet √ºber Resilienz</h2>
<p>Recovery Time Objective (RTO) ist der kritische Faktor ‚Äì nicht die schiere Menge oder Existenz von Kopien. Entscheidend ist: Wie lange darf welcher Teil des Gesch√§fts ausfallen, bis es ernsthafte Sch√§den nimmt?</p>
<h2>3. Kontinuierlicher Minimal-Restore trennt Dauer von Ausfallzeit</h2>
<p>Ein innovativer Ansatz ist, kontinuierlich eine schlanke, nicht skalierte Version der Systeme aus den Backups hochzufahren. Damit l√§sst sich jederzeit beweisen: Restore funktioniert. Und: Die Dauer des eigentlichen Restore-Vorgangs aus den Backups kann nahezu beliebig sein, ohne wesentlich das RTO zu gef√§hrden.</p>
<h2>4. Vorhersagbare Skalierung statt unberechenbarer Wiederanlauf</h2>
<p>Im Notfall geht es nicht darum, <em>ob</em> das Backup l√§uft, sondern <em>wie schnell</em> man wieder auf ausreichende Kapazit√§t kommt. Wer Skalierung auf Abruf plant, kennt die Antwort: ‚ÄûIn X Minuten / Stunden ist die  Leistung verf√ºgbar.‚Äú Das macht den Unterschied zwischen Chaos und geplanter Resilienz.</p>
<h2>5. Kosteneffizienz und Compliance in einem</h2>
<p>Statt teurer Standby-Infrastruktur entsteht ein Modell, das laufend minimale Kosten verursacht, aber im Ernstfall sofort hochskaliert. Dazu kommt: Unternehmen erf√ºllen so auch regulatorische Anforderungen nach nachweisbarer Wiederanlauff√§higkeit.</p>
<p><strong>Fazit:</strong>
Backups sind nur der Anfang. Erst wenn Restore und Disaster Recovery gemeinsam gedacht werden ‚Äì mit kontinuierlichem Minimal-Restore und skalierbarer Infrastruktur ‚Äì entsteht echte Business-Kontinuit√§t.</p>

    </section>
    
      <footer>
        <a href="2025/9/warum-man-backups-und-disaster-recovery-zusammen-denken-sollte/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/9/textbearbeitung-mit-grep-tr-cut-awk-und-sed/">
        Textbearbeitung auf der Shell: grep, cut, awk, sed und tr
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-09-25">Donnerstag, 25. September 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/9/textbearbeitung-mit-grep-tr-cut-awk-und-sed/tr-in-action.png" alt="`tr` in aktion"></p>
<p>Diese f√ºnf kleinen Tools sind echte Arbeitspferde f√ºr jeden, der mit Text auf der Kommandozeile arbeitet. Sie haben viele Optionen ‚Äì aber man braucht nicht alles zu kennen. Schon mit ein paar Grundbefehlen kann man 80‚ÄØ% der typischen Aufgaben l√∂sen.</p>
<h3>1. <code>grep</code> ‚Äì Zeilen finden</h3>
<p>grep filtert Textzeilen anhand von Mustern. Praktisch, wenn man in langen Outputs schnell das Relevante sehen will.</p>
<table>
<thead><tr>
<th>Aufgabe</th>
<th>Befehl</th>
<th>Beispiel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Textzeilen ausgeben, die ein Wort enthalten</td>
<td><code>grep PATTERN</code></td>
<td>`cat protokoll.txt</td>
<td>grep "Fehler"`</td>
</tr>
<tr>
<td>Zeilen ausschlie√üen</td>
<td><code>grep -v PATTERN</code></td>
<td><code>grep -v "^#" protokoll.txt</code></td>
</tr>
<tr>
<td>In einem ganzen Projektbaum nach</td>
<td><code>grep -r PATTERN DIR</code></td>
<td><code>grep -r "TODO" src/</code></td>
</tr>
</tbody>
</table>
<p><strong>Tipps</strong></p>
<ul>
<li><code>-i</code> ignoriert Gro√ü/Kleinschreibung</li>
<li><code>-e</code> aktiviert Regul√§re Ausdr√ºcke (unter linux gibt es noch <code>-P</code> f√ºr Perl-kompatible Regex)</li>
</ul>
<p>Kombinationen √ºber Pipes machen grep besonders stark:</p>
<div class="hll"><pre><span></span>grep<span class="w"> </span>-r<span class="w"> </span>-P<span class="w"> </span><span class="s2">&quot;def \w*\(&quot;</span><span class="w"> </span>.<span class="w"> </span>--after-context<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;bar&quot;</span>
</pre></div>
<p>F√ºr gro√üe Projekte lohnt sich ripgrep (rg), weil es schneller ist, <code>.gitignore</code> respektiert und regul√§re Ausdr√ºcke standardm√§√üig aktiviert.</p>
<h3>2. <code>cut</code> ‚Äì Spalten und Zeichen</h3>
<p><code>cut</code> schneidet Spalten oder Zeichen aus Textzeilen heraus. Funktioniert am besten, wenn der Trenner ein einzelnes Zeichen ist.</p>
<table>
<thead><tr>
<th>Aufgabe</th>
<th>Befehl</th>
<th>Beispiel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Spalte 2 eine CSV <sup class="footnote-ref" id="fnref-csv"><a href="#fn-csv">1</a></sup></td>
<td><code>-d ',' -f 2</code></td>
<td><code>cut -d ',' -f 2 daten.csv</code></td>
</tr>
<tr>
<td>Zeichen 5‚Äë10 einer Zeile</td>
<td><code>-c 5-10</code></td>
<td><code>cut -c 5-10 string.txt</code></td>
</tr>
<tr>
<td>Mehrere Felder</td>
<td><code>-f 1,3,5</code></td>
<td><code>cut -d ';' -f 1,3,5 daten.txt</code></td>
</tr>
</tbody>
</table>
<p>Bei Whitespace-getrennten Daten st√∂√üt cut an Grenzen ‚Äì da ist <code>awk</code> besser.</p>
<h3>3. <code>awk</code> ‚Äì Felder und Muster</h3>
<p><code>awk</code> versteht Texte als Felder, getrennt durch Whitespace oder ein angegebenes Zeichen. Wenn man m√∂chte, kann man mit <code>awk</code> Text-Dateien fast wie Datenbanken abfragen, aber f√ºr den Anfang:</p>
<table>
<thead><tr>
<th>Aufgabe</th>
<th>Befehl</th>
<th>Beispiel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Spalten ausgeben</td>
<td><code>{print $1, $3}</code></td>
<td><code>awk '{print $1, $3}' daten.txt</code></td>
</tr>
<tr>
<td>Letzte Spalte ausgeben</td>
<td><code>{print $NF}</code></td>
<td><code>awk '{print $NF}' daten.txt</code></td>
</tr>
<tr>
<td>Summe einer Spalte</td>
<td><code>{s+=$2} END {print s}</code></td>
<td><code>awk '{s+=$2} END {print s}' zahlen.txt</code></td>
</tr>
</tbody>
</table>
<p><strong>N√ºtzliche Variablen</strong></p>
<ul>
<li><code>NF</code> = Anzahl Felder in der Zeile</li>
<li><code>NR</code> = aktuelle Zeilennummer</li>
</ul>
<h3>4. <code>sed</code> ‚Äì Suchen und Ersetzen</h3>
<p><code>sed</code> ist ein Stream-Editor: ideal f√ºr Ersetzungen und einfache Transformationen.</p>
<table>
<thead><tr>
<th>Aufgabe</th>
<th>Befehl</th>
<th>Beispiel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ersetzen</td>
<td><code>s/alt/neu/g</code></td>
<td><code>sed 's/Fehler/Warning/g' log.txt</code></td>
</tr>
</tbody>
</table>
<p>Vorsicht: Nie direkt in die gleiche Datei schreiben mit &gt; ‚Äì sonst √ºberschreibst du sie, bevor sie gelesen wurde. <strong>DAMIT HABE ICH SCHON DATEN VERLOREN</strong> Stattdessen:</p>
<div class="hll"><pre><span></span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/alt/neu/g&#39;</span><span class="w"> </span>datei.txt<span class="w">   </span><span class="c1"># Direkt in der Datei √§ndern</span>
</pre></div>
<h3>5. <code>tr</code> ‚Äì Zeichen √ºbersetzen</h3>
<table>
<thead><tr>
<th>Aufgabe</th>
<th>Befehl</th>
<th>Beispiel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gro√ü‚ÜíKlein</td>
<td><code>tr [:upper:][:lower:]</code></td>
<td><code>tr '[:upper:]' '[:lower:]' &lt; input.txt</code></td>
</tr>
<tr>
<td>Leerzeichen l√∂schen</td>
<td><code>tr -d ' '</code></td>
<td><code>tr -d ' ' &lt; file</code></td>
</tr>
<tr>
<td>ROT13 (Caesar‚ÄëShift)</td>
<td><code>tr 'a-z' 'n-za-m'</code></td>
<td><code>tr 'a-z' 'n-za-m' &lt; text.txt</code></td>
</tr>
<tr>
<td>Mehrere Zeichen gleichzeitig</td>
<td><code>tr 'abc' 'ABC'</code></td>
<td><code>tr 'abc' 'ABC' &lt; input.txt</code></td>
</tr>
</tbody>
</table>
<p>Beispiel: <code>$PATH</code> lesbarer machen:</p>
<div class="hll"><pre><span></span>‚ùØ<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$PATH</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>nl
</pre></div>
<h2>Fazit</h2>
<ul>
<li><strong><code>grep</code></strong>: Zeilen nach Mustern filtern</li>
<li><strong><code>cut</code></strong>: Spalten oder Zeichen ausschneiden.</li>
<li><strong><code>awk</code></strong>: Felder flexibel verarbeiten und berechnen.</li>
<li><strong><code>sed</code></strong>: Ersetzen und transformieren</li>
<li><strong><code>tr</code></strong>: Zeichen umwandeln oder l√∂schen</li>
</ul>
<p>üëâ Zusammengeschaltet mit Pipes (<code>|</code>) werden diese Tools zu einem Schweizer Taschenmesser f√ºr Textbearbeitung ‚Äì schnell, skriptbar und √ºberall verf√ºgbar.</p>
<div class="footnotes">
<hr>
<ol><li id="fn-csv"><p>CSV = Comma-Separated Values, kann nat√ºrlich auch maskierte Kommas in dem Wert enthalten, was dieser Befehl geflissentlich ignoriert oder falsch macht. Verwendet zum CSV-Parsen also bitte nicht diesen Shell-Befehl. Dieser Befehle sind daf√ºr da, auf der Shell schnell mal in eine Datei hineinzuschauen. Wenn das Ergebnis gut genug ist, kann man es auch weiter verarbeiten.<a href="#fnref-csv" class="footnote">&#8617;</a></p></li>
</ol>
</div>

    </section>
    
      <footer>
        <a href="2025/9/textbearbeitung-mit-grep-tr-cut-awk-und-sed/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/8/arbeiten-mit-json-and-yaml-auf-der-shell/">
        Arbeiten mit JSON &amp; YAML auf der Shell
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-08-25">Montag, 25. August 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/8/arbeiten-mit-json-and-yaml-auf-der-shell/yless.png" alt="yaml ganz angenem auf der Shell"></p>
<p>Arbeiten mit strukturierten Datenformaten auf der Shell kann anstrengend sein ‚Äì <strong>wenn man noch nicht die richtigen Tools daf√ºr hat</strong>.
Ob JSON aus einer API, YAML aus Kubernetes-Manifests oder riesige Logfiles ‚Äì ohne passende Helferlein endet man schnell bei un√ºbersichtlichem <code>grep</code>, <code>less</code> und Copy&amp;Paste.</p>
<p>Zum Gl√ºck gibt es eine Reihe von Werkzeugen, die genau daf√ºr gemacht sind:</p>
<ul>
<li><strong>jq</strong> ‚Äì JSON lesen, filtern und transformieren ‚Äì <a href="https://jqlang.org">https://jqlang.org</a></li>
<li><strong>jo</strong> ‚Äì JSON in der Shell erzeugen ‚Äì <a href="https://github.com/jpmens/jo">https://github.com/jpmens/jo</a></li>
<li><strong>yq</strong> ‚Äì YAML lesen, bearbeiten und konvertieren ‚Äì <a href="https://mikefarah.gitbook.io/yq/">https://mikefarah.gitbook.io/yq/</a></li>
<li><strong>jless / yless</strong> ‚Äì interaktiv in JSON/YAML navigieren ‚Äì <a href="https://jless.io">https://jless.io</a></li>
</ul>
<p>In diesem Beitrag stelle ich euch diese Tools vor ‚Äì mit Beispielen, die ihr direkt in eurer eigenen Shell ausprobieren k√∂nnt.</p>
<hr>
<h2>jq ‚Äì der Klassiker f√ºr JSON</h2>
<p>Das vermutlich bekannteste und am weitesten verbreitete Tool f√ºr JSON ist <a href="https://jqlang.org"><strong><code>jq</code></strong></a>.
Es ist so etwas wie der <em>Schweizer Taschenmesser</em> f√ºr JSON:</p>
<ul>
<li>formatiert unlesbare Minified-JSON-Dateien,</li>
<li>extrahiert gezielt Werte,</li>
<li>filtert und transformiert Daten,</li>
<li>eignet sich f√ºr einmalige Ad-hoc-Analysen genauso wie f√ºr Skripte.</li>
</ul>
<p>Ein einfaches Beispiel: JSON sch√∂n formatieren:</p>
<pre><code>$ cat data.json
{"user":{"id":42,"name":"Alice"},"active":true}
$ cat data.json | jq # oder `jq &lt; data.json`
</code></pre>
<div class="hll"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
<p>So schnell wird aus einem un√ºbersichtlichen Einzeiler eine lesbare Struktur.</p>
<p>Mann kann es aber auch super in scripten verwenden um Daten aus json zu extrahieren:</p>
<div class="hll"><pre><span></span>get_current_gitlab_token<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span><span class="nv">$SECRETNAME</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">$INITIALNAMESPACE</span><span class="w"> </span>-o<span class="w"> </span>json<span class="w"> </span><span class="p">|</span>
<span class="w">        </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.data[&quot;.dockerconfigjson&quot;]&#39;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span>
<span class="w">        </span>base64<span class="w"> </span>--decode<span class="w"> </span><span class="p">|</span>
<span class="w">        </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.auths[&quot;registry.gitlab.com&quot;].password&#39;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null
<span class="o">}</span>
</pre></div>
<p>Oder um in einem JSON-File Daten einzutragen:</p>
<div class="hll"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>shipa-certificates<span class="w"> </span>-o<span class="w"> </span>json<span class="w"> </span><span class="se">\</span>
<span class="w">        </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s2">&quot;.data[\&quot;ca.pem\&quot;] |= \&quot;</span><span class="nv">$CA_CERT</span><span class="s2">\&quot;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span><span class="p">|</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-
</pre></div>
<p><code>jq</code> kann noch viel mehr. Wer das Werkzeug noch nicht kennt sollte unbedingt ein paar Minuten investieren um <a href="https://jqlang.org/tutorial/">das Tutorial</a> querzulesen, und dann bei der n√§chsten Einsatzm√∂glichkeit gezielt nach der Syntax schauen. Pro tip: KI's k√∂nnen diese Syntax prima, und <code>jless</code> (kommt gleich) kann diese auch generieren.</p>
<hr>
<h2>jo ‚Äì JSON in der Shell erzeugen</h2>
<p>W√§hrend <code>jq</code> ideal zum Lesen und Transformieren ist, eignet sich <strong><code>jo</code></strong> perfekt, um JSON direkt in der Shell zu erstellen. Damit lassen sich Testdaten oder API-Payloads schnell zusammenbauen.</p>
<p>Ein einfaches Beispiel:</p>
<div class="hll"><pre><span></span>jo<span class="w"> </span><span class="nv">name</span><span class="o">=</span>Alice<span class="w"> </span><span class="nv">age</span><span class="o">=</span><span class="m">30</span><span class="w"> </span><span class="nv">active</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
<p>Ausgabe:</p>
<div class="hll"><pre><span></span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span>
</pre></div>
<p>Auch Arrays sind m√∂glich:</p>
<div class="hll"><pre><span></span>jo<span class="w"> </span>-a<span class="w"> </span>red<span class="w"> </span>green<span class="w"> </span>blue
</pre></div>
<p>‚ûú <code>["red","green","blue"]</code></p>
<p>Verschachtelte Objekte:</p>
<div class="hll"><pre><span></span>jo<span class="w"> </span><span class="nv">user</span><span class="o">=</span><span class="k">$(</span>jo<span class="w"> </span><span class="nv">name</span><span class="o">=</span>Alice<span class="w"> </span><span class="nv">id</span><span class="o">=</span><span class="m">42</span><span class="k">)</span><span class="w"> </span><span class="nv">project</span><span class="o">=</span>Demo
</pre></div>
<p>‚ûú <code>{"user":{"name":"Alice","id":42},"project":"Demo"}</code></p>
<p>Das eignet sich sehr gut f√ºr schnelle <code>curl</code>-Requests, aber insbesondere auch f√ºr shell scripte in denen inline json sonst sehr schnell sehr un√ºbersichtlich wird:</p>
<div class="hll"><pre><span></span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>jo<span class="w"> </span><span class="nv">username</span><span class="o">=</span>dev<span class="w"> </span><span class="nv">password</span><span class="o">=</span>secret<span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>https://example.com/api/login
</pre></div>
<hr>
<h2>yq ‚Äì YAML lesen und bearbeiten</h2>
<p>YAML verwenden wir √ºberall, am meisten habe ich in Kubernetes damit zu tun. <a href="https://mikefarah.gitbook.io/yq/"><strong><code>yq</code></strong></a> ist das Werkzeug der Wahl, um YAML-Dateien zu lesen, zu durchsuchen und zu editieren. Die Syntax ist sehr nahe an <code>jq</code>, das Werkzeug kann neben YAML aber auch JSON, TOML und XML verarbeiten, und zwischen diesesn Konvertieren. Im wesentlichen kann es das gleiche wie <code>jq</code>, eben auch f√ºr YAML.</p>
<hr>
<h2>jless &amp; yless ‚Äì interaktiv st√∂bern</h2>
<p>Wenn Dateien zu gro√ü oder zu komplex werden, helfen <a href="https://jless.io"><strong><code>jless</code></strong></a> und <strong><code>yless</code></strong> (ein <code>alias yless=jless --yaml</code>. Sie bieten eine interaktive Ansicht f√ºr JSON und YAML ‚Äì mit:</p>
<ul>
<li>Syntax-Highlighting,</li>
<li>Falten und Aufklappen von Strukturen,</li>
<li>komfortabler Navigation und Suche.</li>
</ul>
<p>Beispiel:</p>
<div class="hll"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-oyaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>yless
</pre></div>
<p>Das sch√∂ne: Man kann hier auf der Shell wunderbar uninteressante textbl√∂cke einklappen um schnell die wichtigen Informationen zu fokussieren, und dann √ºber Tastaturkommandos werte, oder jq/yq filter auf das aktuell ausgew√§hlte Element kopieren, um das z.B. dann auf alle Pods in einem Namespace anzuwenden.</p>
<hr>
<h2>Fazit</h2>
<p>Mit diesen Tools ‚Äì <code>jq</code>, <code>jo</code>, <code>yq</code>, <code>jless</code> und <code>yless</code> ‚Äì wird das Arbeiten mit JSON und YAML auf der Shell <em>deutlich</em> angenehmer. Sehr gut investierte Zeit diese Werkzeuge (eines nach dem Anderen) zu lernen.</p>

    </section>
    
      <footer>
        <a href="2025/8/arbeiten-mit-json-and-yaml-auf-der-shell/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/8/mit-llm-rag-einfach-mal-ausprobieren-direkt-von-der-shell/">
        Mit llm RAG einfach mal ausprobieren ‚Äì direkt von der Shell
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-08-07">Donnerstag, 7. August 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/8/mit-llm-rag-einfach-mal-ausprobieren-direkt-von-der-shell/workflow.png" alt="Ablaufdiagramm">
Einer der coolsten Aha-Momente der letzten Tage bei mir war, wie einfach und niederschweflig das Arbeiten mit Retrieval-Augmented Generation (RAG) von der Shell inzwischen sein kann ‚Äì ganz ohne spezielle Infrastruktur, Vektor-Datenbank oder Server-Backend. Das Python-Tool <a href="https://pypi.org/project/llm/"><code>llm</code></a> macht  das m√∂glich: RAG direkt aus der Kommandozeile, mit SQLite als Backend und einfachen Kommandos, die sich hervorragend in Shell-Workflows integrieren lassen.</p>
<h2>Ein Power Tool f√ºr Sprachmodelle in der Shell</h2>
<p><a href="https://llm.datasette.io/en/stable/"><code>llm</code> kann nat√ºrlich noch viel mehr und ist ein Power Tool, das den Einsatz von KI direkt im Terminal erlaubt</a>. Es erlaubt mit beliebigen API-Providern oder lokalen Modellen zu sprechen und integriert diese damit nahtlos in eigene Skripte. Use Cases: Daten hinein pipen und mit dem LLM bearbeiten. Ob zusammenfassen, erkl√§ren, √ºbersetzen, mit einem aufwendigen Prompt aus einer Datei beackern‚Ä¶ Da geht so viel. Egal was Ihr aus diesem Artikel mitnehmt, zumindest sollte es sein das Ihr <code>llm</code>¬†in euren Workflow aufnehmt und installiert.</p>
<h2>Der RAG-Workflow von der Shell aus</h2>
<p>Ein kompletter RAG-Workflow funktioniert mit <code>llm</code> in wenigen Schritten. <a href="https://building-with-llms-pycon-2025.readthedocs.io/en/latest/semantic-search-and-rag.html">Diese Demo hier hab ich von Simon Willison geklaut, dem Autor von <code>llm</code></a>. <a href="https://github.com/python/peps">Hier wird semantische Suche in den Python Enhancement Proposals demonstriert</a>. Dieses Tutorial verwendet einen lokalen LLM-Server, man kann das aber nat√ºrlich auch mit GitHub Copilot oder √§hnlichen Modellen machen. Herauszufinden wie die dort hei√üen und zu verbinden sind bleibt ein Exercise f√ºr den Leser.</p>
<h3>1. Dateien vorbereiten</h3>
<p>Wir erstellen gek√ºrzte Versionen von Textdateien:</p>
<div class="hll"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>peps-truncated
<span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>peps/*.rst<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">8000</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$f</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;peps-truncated/</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$f</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="k">done</span>
</pre></div>
<p>Das ist nat√ºrlich streng genommen falsch, weil wir ganz viel Daten wegschmei√üen. Einiges spricht aber trotzdem daf√ºr:</p>
<ol>
<li>Gerade lokale Modelle haben gerne nicht so gro√üe Kontext-Fenster und da muss das Dokument reinpassen.</li>
<li>Meistens steht am Anfang eines Dokuments worum es geht. F√ºr unsere Zwecke also eine gute N√§herung.</li>
</ol>
<p>Um das sp√§ter in ein Produkt umzuwandeln m√ºssten wir uns noch weitere Strategien¬†anschauen, z.B. mit einem Sliding Window √ºber die Dokumente zu gehen und f√ºr jeden Abschnitt ein Embedding zu erzeugen. Grunds√§tzlich ist es aber eine gute Idee verschiedene Indexe zu erzeugen die unterschiedliche Zwecke erf√ºllen.</p>
<h3>2. Vektor-Index erstellen</h3>
<div class="hll"><pre><span></span>llm<span class="w"> </span>embed-multi<span class="w"> </span>peps<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-m<span class="w"> </span>mxbai-embed-large<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--files<span class="w"> </span>peps-truncated<span class="w"> </span><span class="s1">&#39;pep-3*.rst&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span>peps.db<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--store
</pre></div>
<p>Das erzeugt eine SQLite-Datenbank mit eingebetteten Vektoren. Wichtig: Die Datenbank speichert auch, mit welchem Modell die Einbettung erfolgte ‚Äì bei weiteren Operationen auf der gleichen Collection <code>peps</code> ignoriert <code>llm</code>¬†den Modell-Parameter ohne Fehlermeldung!</p>
<p>Seiten-Notiz: Embeddings, was ist das? Ein Embedding ist eine Umwandlung von einem Text in eine Zahlenreihe (Mathematisch: Einen Vektor). Jeder dieser Vektoren beschreibt eine Koordinate in einem Hoch-Dimensionalen Raum, mit der Eigenschaft, das Koordinaten die sich Nahe sind von einem Text kommen der semantisch √Ñhnlich ist. Darin kann man sogar Rechnen, ein etwas √ºberstrapaziertes Beispiel w√§re z.B. der Vektor f√ºr K√∂nig + Weiblich = K√∂nigin. <a href="https://simonwillison.net/2023/Oct/23/embeddings/">Mehr gibts hier</a></p>
<h3>3. Abfragen stellen</h3>
<div class="hll"><pre><span></span>llm<span class="w"> </span>similar<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;What do string templates look like?&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span>peps.db<span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span>peps<span class="w"> </span><span class="se">\</span>
<span class="w">  </span><span class="p">|</span><span class="w"> </span>llm<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;Answer the question: What do string templates look like?&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-m<span class="w"> </span>devstral<span class="w"> </span>-o<span class="w"> </span>num_ctx<span class="w"> </span>256_00
</pre></div>
<p>Hier wird erst √§hnliche Inhalte zur Frage gesucht. Wichtige Details: Das Kontext-Fenster des Sprachmodells das antwortet muss gro√ü genug sein, das es alle Antworten in seinen Kontext aufnehmen kann. Ansonsten wird gerne der Anfang abgeschnitten - und da steht nat√ºrlich der Treffer mit dem besten Score.</p>
<h3>4. Automatisieren</h3>
<p>Wir k√∂nnen sogar direkt ein Skript generieren lassen:</p>
<div class="hll"><pre><span></span>llm<span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">Build me a bash script like this:</span>
<span class="s1">./pep-qa.sh &quot;What do string templates look like?&quot;</span>
<span class="s1">It should first run:</span>
<span class="s1">llm similar -c $question -d peps.db peps</span>
<span class="s1">Then it should pipe the output from that to:</span>
<span class="s1">llm -s &quot;Answer the question: $question&quot; -m gpt-4.1-mini</span>
<span class="s1">That last command should run so the output is visible as it runs.</span>
<span class="s1">&#39;</span><span class="w"> </span>-x<span class="w"> </span>&gt;<span class="w"> </span>pep-qa.sh
</pre></div>
<h2>Fazit</h2>
<p>Was fr√ºher nach viel Setup aussah (Vektor-Datenbank, Backend-API, RAG-Pipeline), ist heute in wenigen Shell-Befehlen machbar. SQLite funktioniert dabei erstaunlich gut ‚Äì <code>llm</code> f√ºhrt einfach einen Full-Table-Scan durch und berechnet die Vektor-Abst√§nde direkt. Das ist nicht hyper-skalierbar, aber bis 10.000 bis 100.000 Eintr√§ge durchaus brauchbar.</p>
<p>Und das Beste: <code>llm</code> l√§sst sich √ºberall in bestehende Shell-Skripte und Workflows einbauen ‚Äì sogar mit piped Input. Wer also mal eben eine intelligente Suche oder ein Sprachmodell in seinen CLI-Workflow integrieren will, findet hier ein extrem m√§chtiges Toolset.</p>
<p>Ich kann nur empfehlen ein Shell-Werkzeug wie <code>llm</code>¬†zu lernen.</p>

    </section>
    
      <footer>
        <a href="2025/8/mit-llm-rag-einfach-mal-ausprobieren-direkt-von-der-shell/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/7/devopscon-keynote-security-ist-jetzt-teil-von-devops/">
        DevOpsCon Keynote ‚Äì Security ist jetzt Teil von DevOps?
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-07-30">Mittwoch, 30. Juli 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/7/devopscon-keynote-security-ist-jetzt-teil-von-devops/secure-chips.png" alt="Metapher auf Teams die jeweils Sicherheits-Interessierte enthalten, die einfach von Spezialisten Unterst√ºtzung erhalten k√∂nnen"></p>
<p>Ich konnte auf der DevOpsCon der Keynote "From Static to Strategic: Reimagining Application Security for a DevOps World" von John D. Wood nicht entgehen. Um ehrlich zu sein: Die Keynote hat mich nicht begeistert. Am ehesten noch fand ich interessant das er Zahlen hatte, das die meisten Sicherheitsl√ºcken (auch nach Bekanntwerden) noch √ºber ein Dreiviertel-Jahr offen sind. Aua. Ein Satz am Ende ist bei mir h√§ngengeblieben:</p>
<blockquote><p>"DevOps bekommt jetzt auch Security."</p>
</blockquote>
<p>Was simpel klingt, ist in der Realit√§t alles andere als einfach ‚Äì und betrifft uns ganz konkret. In einer Zeit, in der wir als Unternehmen KRITIS-relevant geworden sind, ist es f√ºr viele Risiken nicht mehr m√∂glich sie einfach zu √ºbernehmen (AKA aussitzen). Wir m√ºssen sie aktiv mitigieren ‚Äì und das gilt besonders auch f√ºr Security-Risiken.</p>
<h3>Security: Aus DevOps wird "DevSecOps"?</h3>
<p>Dev ist schon schwer. Ops noch schwieriger. Und jetzt kommt Security obendrauf. Nicht jedes Team kann oder will alle drei Disziplinen gleich gut abdecken. Und dennoch ist klar: Es kommt mehr Arbeit auf uns zu.</p>
<p>Wir werden bei bestimmten Anwendungen in Zukunft viel st√§rker darauf achten m√ºssen:</p>
<ul>
<li>Dass Betriebssysteme (in Docker-Containern) aktuell sind,</li>
<li>Dass Projektabh√§ngigkeiten regelm√§√üig gepflegt werden,</li>
<li>Dass wir verstehen, <em>welche Sicherheitsl√ºcken f√ºr <strong>uns</strong> relevant</em> sind ‚Äì nicht nur, weil ein Scanner sie anmeckert, sondern weil unsere eigene Risikoabw√§gung sie als kritisch einstuft.</li>
</ul>
<h3>Wunsch-Szenario: Expertise teilen, nicht duplizieren</h3>
<p>Mein Wunsch w√§re, dass nicht jedes Team die komplette Security-Expertise selbst aufbauen muss. Stattdessen sollten sich diejenigen, die sich besonders f√ºr das Thema interessieren, tiefer einarbeiten k√∂nnen ‚Äì und jederzeit unkompliziert Zugang zu  Spezialist\:innen haben. Idealerweise entsteht daraus eine Art Mentoring-Beziehung.</p>
<p>Das Ziel: Schnell und unb√ºrokratisch Expertise bekommen, wenn man merkt, dass man sie braucht. Entwickler\:innen sollen lernen, Security-relevante Situationen zu erkennen und wissen, wo sie gezielt und niederschwellig Unterst√ºtzung finden.</p>
<h3>Compliance-Checkbox oder echte Verteidigung?</h3>
<p>Ein starkes Bild aus dem Vortrag war die Kritik an klassischen Security-Prozessen: W√∂chentliche Scans, lange Backlogs mit offenen CVEs, endlos False Positives, wenig konkreter Nutzen. All das erzeugt ungeplante Arbeit, und widerspricht damit dem DevOps-Grundsatz "No unplanned work" ‚Äì und hilft im Ernstfall wenig. Letztlich m√ºssen wir ja die Daten unserer Versicherten Sch√ºtzen, dass der Bug den ein Angreifer bei uns Ausgen√ºtzt hat schon lange bekannt war, hilft uns nicht weiter.</p>
<h3>Fazit</h3>
<p>Ich nehme aus dem Talk vor allem eines mit: Security k√∂nnen wir in Zukunft nicht l√§nger als "Problem von jemand anderem" verstehen. Sie ist jetzt (oder wird es bald) integraler Teil von DevOps ‚Äì ob uns das passt oder nicht.</p>
<p>Und wir m√ºssen Wege finden, wie wir das <em>gemeinsam</em> schultern k√∂nnen ‚Äì weil wir eben nicht jeden Entwickler zum Security-Experten machen k√∂nnen.</p>

    </section>
    
      <footer>
        <a href="2025/7/devopscon-keynote-security-ist-jetzt-teil-von-devops/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/7/die-bittere-realitaet-container-sicherheit-ist-kaputt/">
        Die bittere Realit√§t: Container-Sicherheit ist Kaputt
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-07-16">Mittwoch, 16. Juli 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/7/die-bittere-realitaet-container-sicherheit-ist-kaputt/chainguard-cve-history.png" alt="Container Security">
Vor einigen Wochen war ich auf der DevOpsCon in Berlin. Einer der spannenderen  Vortr√§ge war f√ºr mich: <strong>"Supply Chain Security and the real world: Lessons from Incidents"</strong>. Offiziell ging es um Sicherheit in Container-Umgebungen. Inoffiziell war es eine Abrechnung mit dem Chaos, das wir im Alltag mit Docker-Containern erleben.</p>
<p>Wir alle lieben Docker Hub: Schnell ein Image ziehen, starten, fertig. Aber was dabei oft vergessen wird: Selbst die als "offiziell" markierten Container bieten keinerlei Garantien. Weder √ºber die Aktualit√§t noch √ºber Sicherheit. Fast alle dieser Container werden monatelang nicht aktualisiert, obwohl es CVEs f√ºr enthaltene Komponenten gibt.</p>
<p>Wenn man das ernst nimmt, m√ºsste man:</p>
<ul>
<li>Alle Container regelm√§√üig selbst neu bauen und dabei Updates der darin enthaltenen Distributionen installieren</li>
<li>Bei jeder Abh√§ngigkeit √ºberwachen, ob es CVEs oder Updates gibt</li>
<li>Die Upstream-Projekte verstehen, ihre Update-Kan√§le abonnieren</li>
<li>Alle Dockerfiles durchdringen (insbesondere bizarr manuell installierter Binaries)</li>
</ul>
<p>Kurz: Wer Container sicher betreiben will, muss eigentlich selbst zur Distribution werden.</p>
<h3>Die L√∂sung: "Start Left" statt "Shift Left"</h3>
<p>Die Firma <strong>Chainguard</strong> hat in dem Vortrag ihre Alternative vorgestellt: Ein Repository von sicherheitsoptimierten, rootlosen Containern, die alle:</p>
<ul>
<li><strong>ohne bekannte CVEs</strong> ausgeliefert werden</li>
<li>auf einem selbstgebauten, deterministischen OS basieren ("Wolfi", im wesentlichen Alpine mit GLibC statt Musl)</li>
<li>reproduzierbar gebaut werden (jede\:r kann sie nachbauen, wenn auch nicht Bit f√ºr Bit)</li>
<li>mit Software-Bill-of-Materials (SBOM) ausgeliefert werden</li>
<li>Auch im Container als normale Nutzer ausgef√ºhrt werden anstatt als `root`</li>
<li>und bei neuen Upstream-Vulnerabilities innerhalb von 7 Tagen gepatcht werden</li>
</ul>
<p>Die Container sind FIPS-kompatibel, in zwei Varianten (Production vs.¬†Dev - mit mehr Tools) verf√ºgbar und mit bekannten Tools wie <code>trivy</code> problemlos scannbar. Offen Statistiken zeigen beeindruckend wie <em>viel weniger CVEs</em> sieh in Ihren Containern haben. N√§mlich in der Regel gar keine.</p>
<h3>Warum das f√ºr viele ein Game-Changer sein k√∂nnte</h3>
<p>Wie in vielen Unternehmen, ist auch bei uns die Nutzung von Docker-Containern ein "Free for All": Jeder zieht, was er braucht, hauptsache es l√§uft. Sicherheitsrichtlinien? Nicht vorhanden. Updates? Machen wir Manuell alle Jubeljahre. Genau hier setzen die Container von Chainguard (oder auch Dockers eigene "Hardened Images") an:</p>
<p>Man k√∂nnte sagen:</p>
<blockquote><p>Was sonst niemand zuverl√§ssig macht, macht ChainGuard automatisch.</p>
</blockquote>
<p>Und das Beste: Die Basis-Container sind sogar kostenlos (und damit z.B. auch f√ºr Open Source Projekte) verwendbar. Damit kann man ohne gro√üen Aufwand den Produktivbetrieb auf eine wesentlich sicherere Basis stellen.</p>
<p>Gerade wenn man ‚Äì wie bei KRITIS-Vorgegeben ‚Äì innerhalb eines festen Zeitrahmens Sicherheitsupdates einspielen muss, ist eine verl√§ssliche Update-Garantie Gold wert.</p>
<h3>Mein Fazit</h3>
<p>Container sind kein Selbstzweck ‚Äì und sie haben einen gro√üen Nachteil gegen√ºber Ver√§nderbarer Infrastruktur: Man verliert die automatisch installierten Updates der Linux Distributionen. Wer diesen Aufwand nicht selbst stemmen will, braucht Alternativen. Die geh√§rteten Container von ChainGuard oder Docker sind ein vielversprechender Weg, um  mit minimalem Aufwand viel weniger CVEs und fehlender Updates, sowie weit mehr Transparenz gewinnen kann.</p>
<p>Probiert es doch mal aus. Ich w√ºrde mich sehr √ºber Feedback freuen wo die Grenzen und Probleme dieses Ansatzes liegen. Offensichtlich ist schon mal, dass dort nicht so viele Container gibt.</p>
<p>Grunds√§tzlich aber immer: Bitte Entscheidet euch bewusst f√ºr Images, die gepflegt werden. Und nicht f√ºr das erste, das die Suche auf Docker Hub zur√ºck gibt.</p>

    </section>
    
      <footer>
        <a href="2025/7/die-bittere-realitaet-container-sicherheit-ist-kaputt/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/6/nuetzliche-shell-kommandos-sort-uniq/">
        N√ºtzliche Shell-Kommandos: sort, uniq
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-06-25">Mittwoch, 25. Juni 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/6/nuetzliche-shell-kommandos-sort-uniq/set-operations.png" alt="Set Operations">
Weil ich es heute wiederholt nachschlagen musste, hier noch eine Erinnerung an mich selbst, wie einfach es ist auf der Shell set Operationen durchzuf√ºhren.</p>
<p>In unserem Beispiel: ~10k Datenbank-IDs hier, ~15k Datenbank-IDs da, und die Frage welche davon nur in der einen Liste enthalten sind. Das ist dann einfach zu beantworten, wenn man die auf eine ID pro Zeile ausgibt, und dann einfach mit <code>set_difference</code> bearbeitet.</p>
<div class="hll"><pre><span></span>set_union<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span>sort<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="nv">$2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq
<span class="o">}</span>

set_intersection<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span>sort<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="nv">$2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>--repeated
<span class="o">}</span>

set_difference<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span>sort<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="nv">$2</span><span class="w"> </span><span class="nv">$2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>--unique
<span class="o">}</span>

set_symmetric_difference<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span>sort<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="nv">$2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>--unique
<span class="o">}</span>
</pre></div>
<p><a href="https://stackoverflow.com/a/13038235/4572750">Quelle</a></p>

    </section>
    
      <footer>
        <a href="2025/6/nuetzliche-shell-kommandos-sort-uniq/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/6/devopscon-stolperfallen-beim-aufbau-interner-developer-platforms-idp/">
        DevOpsCon: Stolperfallen beim Aufbau interner Developer‚ÄØPlatforms¬†(IDP)
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-06-19">Donnerstag, 19. Juni 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p>Heute gibts den Start meines Berichts von der DevOpsCon 25. So viel allgemeines vorweg: War sch√∂n.  Druckbetankung wie es sich geh√∂rt.</p>
<p>Los ging es mit einer Keynote √ºber interne Entwickler-Plattformen und was dabei gerne schief geht.</p>
<h2>1‚ÄØ|‚ÄØReality-Check: 90 % der Devs nutzen schon eine IDP ‚Äì wir auch</h2>
<ul>
<li>Laut Jessica arbeiten rund‚ÄØ90‚ÄØ% aller Entwickler:innen mittlerweile mit einer internen Plattform ‚Äì oft, ohne es zu merken.</li>
<li>Wir auch? Was ist unsere Plattform?</li>
</ul>
<h2>2‚ÄØ|‚ÄØDas theoretische Fundament</h2>
<p>Jessica empfahl <em>vier B√ºcher</em>, die jede:r Platform‚ÄëBuilder kennen sollte. (Lustigerweise gab Sie zu, das Sie selbst noch nicht alle davon gelesen komplett gelesen hat.)</p>
<table>
<thead><tr>
<th>Buch</th>
<th>Kernaussage f√ºr IDP</th>
<th>Mein Take‚Äëaway</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><a href="https://www.amazon.com/Transformed-Becoming-Product-Driven-Company-Silicon/dp/1119697336">Transformed</a></strong></td>
<td>Von Silos zu <strong>empowereden Produkt‚ÄëTeams</strong></td>
<td>Auch Plattform‚ÄëTeams brauchen Produktdenken und Produkt-Manager.</td>
</tr>
<tr>
<td><strong><a href="https://www.amazon.com/Team-Topologies-Organizing-Business-Technology/dp/1942788819">Team Topologies</a></strong></td>
<td><strong>Team‚ÄëTypen &amp; Schnittstellen</strong> (u.‚ÄØa. Platform &amp; Enabling Teams)</td>
<td>Klingt sehr √§hnlich zu dem wie wir organisiert sind. Unterschiede: Komplizierte Subsysteme brauchen eigene Teams. Enabling‚ÄëTeams sind hier fast immer <strong>tempor√§r</strong>.</td>
</tr>
<tr>
<td><strong><a href="https://www.amazon.de/Accelerate-Software-Performing-Technology-Organizations/dp/1942788339">Accelerate</a></strong></td>
<td>Deploy‚ÄëFreq., Lead‚ÄëTime, Failure‚ÄëRate, MTTR</td>
<td><a href="https://dora.dev/guides/dora-metrics-four-keys/">DORA‚ÄëScores</a> = Proxy f√ºr Platform-Team‚ÄëErfolg. Nugget: Im Raum war niemand der alle 4 Metriken einsetzt, oder jemanden kennt der das tut‚Ä¶</td>
</tr>
<tr>
<td><strong><a href="https://www.amazon.de/Platform-Engineering-Technical-Product-Leaders/dp/1098153642">Platform Engineering</a></strong></td>
<td><strong>Plattform ersetzt Glue‚ÄëCode</strong> &amp; schafft Self‚ÄëService</td>
<td>Eine IDP ist <strong>Software</strong>, kein Ops‚ÄëTeam.</td>
</tr>
</tbody>
</table>
<h2>3‚ÄØ|‚ÄØTypische Fallstricke</h2>
<ol>
<li><strong>Menschen im Plattform-Team bringen ihre Erfahrungen mit</strong><ul>
<li>‚ÄûIt‚Äôs faster if I just do it.‚Äú Sorgt gerne daf√ºr das das Ergebnis auch nur Sie benutzen k√∂nnen.</li>
<li>Damit erzeugt man ein neues Ops-Silo. Dringend zu vermeiden. Das Ziel ist, das andere Teams sich selbst helfen k√∂nnen.</li>
</ul>
</li>
<li><strong>Rudis Resterampe</strong> (Scope¬†Creep)<ul>
<li>Plattform‚ÄëTeam sammelt alles, was sonst niemand machen will.</li>
<li>Konsequenz: Keine Zeit mehr f√ºr strategische Funktionen.</li>
<li>Braucht eine klare Vision, und insbesondere By-In von Leadership. Dann Iterationen und viel Kommunikation.</li>
</ul>
</li>
<li><strong>Alles sofort l√∂sen wollen (Rudis Resterampe 2.0)</strong><ul>
<li>Minimalismus ist King¬†üëë. Nicht jedes Problem muss gleich gel√∂st werden.</li>
<li>Priorisiere <strong>Onboarding, Self‚ÄëService &amp; Empowerment</strong>.</li>
</ul>
</li>
<li><strong>Das falsche Problem L√∂sen</strong><ol>
<li>Es ist sehr einfach das falsche Problem zu l√∂sen. Schlie√ülich sind wir alle Entwickler und wissen was wir brauchen.</li>
<li>Aber jedes Team ist anders und hat andere Aufgaben. Daher ist es unglaublich wichtig mit den Menschen intensiv zu sprechen die man begl√ºcken will.</li>
<li>Plattform-Engineering braucht genauso Produkt-Management und einen Produkt-Manager wie andere Themen. Wenn das Budget daf√ºr nicht vorhanden ist, muss man diese Aufgaben trotzdem erf√ºllen.</li>
</ol>
</li>
<li><strong>Plattform‚ÄëMigrationen untersch√§tzen</strong><ul>
<li>Jede Migration ist Schmerzhaft und¬†<strong>kostet Vertrauen</strong> (Vertrauen ist wie eine W√§hrung. Wenn man es ausgegeben hat, ists wech).</li>
<li>Daher so wenig Migrationen wie m√∂glich, und diese gut vorbereiten, auch wenn es viel Aufwand erzeugt.</li>
<li>Ziel: <strong>Automatisierte, Low‚ÄëImpact‚ÄëMigrationspfade</strong>.</li>
</ul>
</li>
</ol>
<h2>4‚ÄØ|‚ÄØFragen an den Leser</h2>
<ol>
<li><strong>Was ist deine aktuelle Plattform?</strong></li>
<li><strong>Wo klemmt es eigentlich derzeit?</strong></li>
<li><strong>Macht es Sinn die DORA‚ÄëBaselines zu</strong> messen?</li>
</ol>
<h2>5‚ÄØ|‚ÄØFazit</h2>
<p>Ein internes Developer‚ÄëPlatform‚ÄëTeam ist <strong>kein Sonder‚ÄëOps‚ÄëTeam</strong>, sondern ein <strong>Produkt‚ÄëTeam</strong> mit klarer Vision, fokussiertem Scope und messbarem Impact.
Je einfacher, desto besser ‚Äì und Vertrauen ist kostbar.</p>
<blockquote><p><em>‚ÄûMinimalismus ist King ‚Äì l√∂se die wichtigsten 20‚ÄØ% zuerst, die den Teams 80‚ÄØ% des Schmerzes nehmen.‚Äú</em> ‚Äì Jessica‚ÄØAnderson</p>
</blockquote>

    </section>
    
      <footer>
        <a href="2025/6/devopscon-stolperfallen-beim-aufbau-interner-developer-platforms-idp/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
    
  <article class="blog-post">
    <header>
      <h2>
        <a href="2025/5/die-freuden-einer-gut-eingerichteten-shell-fzf/">
        Die Freuden einer gut eingerichteten Shell: fzf
        </a>
      </h2>
      <p class="meta">
        written by Martin H√§cker on <time datetime="2025-05-07">Mittwoch, 7. Mai 2025</time>
      </p>
    </header>

    <section class="blog-post-body">
      <p><img src="2025/5/die-freuden-einer-gut-eingerichteten-shell-fzf/fzf.png" alt="fzf"></p>
<p>Nachdem es bisher in <a href="../categories/code/">der Serie</a> um die <a href="2024/11/grundlegende-funktionen-und-einstellungen-des-terminals/">grundlegende Einrichtung der Shell</a>, <a href="2025/2/die-freuden-einer-gut-eingerichteten-shell-prompt/">einen guten Prompt</a> und <a href="2025/4/die-freuden-einer-gut-eingerichteten-shell-autocomplete/">funktionierende autoomatische Vervollst√§ndigung</a> ging, geht es jetzt eine Weile um Werkzeuge um mit der Shell effizient zu navigieren und Dateien und Inhalte zu finden.</p>
<h2>Einleitung</h2>
<p>Hier geht es mir darum das die Arbeit auf der Shell (auf dem eigenen Rechner vor allem) nur dann schnell und Effizient ist, wenn man schnel und einfach in die Ordner kommt in denen man arbeiten m√∂chte, und die Dateien findet in denen etwas interessantes steht das man entweder lesen oder ver√§ndern m√∂chte.</p>
<p>Und nat√ºrlich ist das Skillset auch auf beliebige Server transferierbar, weil man alle diese Werkzeuge (oder deren etwas primitivere Variante, dazu sp√§ter mehr) auch auf einem Server, oder in einem Docker-Container, gerne auch auf einem Kubernetes-Cluster in Produktion einsetzen kann, wo man sonst halt nicht so viele Werkzeuge hat, und schon gar nicht seine IDE anschlie√üen kann um zu versuchen dort Herr der Lage zu werden.</p>
<p>Dazu m√∂chte ich euch die Tools <a href="https://github.com/ajeetdsouza/zoxide">zoxide</a>, grep/<a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>, <a href="https://github.com/junegunn/fzf">fzf</a>, less/cat/<a href="https://github.com/sharkdp/bat">bat</a> und <a href="https://direnv.net">direnv</a> vorstellen.</p>
<p>Diese Tools erleichtern viele t√§glich oft wiederholte Arbeitsabl√§ufe dramatisch, und sie erm√∂glichen viele Use-Cases, die viele grafischen IDEs und Text-Editoren gar nicht unterst√ºtzen. Los geht es mit dem flauschigsten der Tools, fzf.</p>
<h2>Zackig die richtige Datei finden: fzf</h2>
<p><a href="https://github.com/junegunn/fzf">fzf</a> frei Eingezangendeutscht "der flauschige Kommandozeilen Finder", ist ein werkzeug um Dateien (aber auch beliebige andere Dinge) anhand von teilen des Namens oder Mustern wie jeder erste Buchstabe der W√∂rter ihres Namens zu finden. Dazu bietet dieses Werkzeug eine Oberfl√§che die interaktiv die Liste der Auswahlm√∂glichkeiten filtert w√§hrend man tippt. Die meisten IDEs bieten so eine Funktion irgendwo mehr oder weniger gut versteckt an, und dieses Werkzeug portiert diese Funktionalit√§t als generisches Werkzeug in die Shell.</p>
<p>Als beispiel: Ich m√∂chte einen bestimmten UnitTest ausf√ºhren:</p>
<div class="hll"><pre><span></span>$<span class="w"> </span>bin/run_tests_in_docker.sh<span class="w"> </span><span class="k">$(</span>fzf<span class="k">)</span>
</pre></div>
<p>Mit diesem Kommando, wird zuerst fzf aufgerufen (wegen <code>$(fzf)</code>) was dann eine oberfl√§che pr√§sentiert, mit der man interktiv die richtige oder die richtigen Dateien ausw√§hlen kann.</p>
<div class="hll"><pre><span></span><span class="c"># ich verwende die fish shell, daher brauch ich das $ nicht</span>
‚ùØ bin/run_tests_in_docker.sh <span class="o">(</span>fzf<span class="o">)</span>
  src/models/dokumente/tests/document_distribution_test.py
  src/controller/process_distribution/tests/models_test.py
  src/models/dokumente/tests/dokumente_test.py
  src/integration/d3/api/test/models_test.py
‚ñå src/models/tests/kontaktdaten_test.py
  5/448 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
<span class="o">&gt;</span> models <span class="err">&#39;</span><span class="k">test</span>.py
</pre></div>
<p>In dem Interface kann man auch mit den Pfeiltasten navigieren, oder einen Eintrag anklicken. Der von mir eingegebene Suchstring "models 'test.py" bedeutet, dass 'models' irgendwo in dem Treffer diese Buchstaben in dieser Reihenfolge vorkommen m√ºssen, w√§hrend "'test.py" erzwingt das der exakte String 'test.py' vorkommen muss.</p>
<p><a href="https://junegunn.github.io/fzf/shell-integration/">Wenn man die fzf-Integration mit der eigenen Shell aktiviert</a>, kriegt man viele weitere Integrationen in die Shell dazu. Zwei Beispiele:</p>
<ul>
<li><p><code>‚åÉ-T</code> sucht (mit Vorschau!) nach Dateien unterhalb des aktuellen Verzeichnisses. Das ist immer dann Praktisch wenn man f√ºr ein Kommando eine Datei aus dem aktuellen Projekt als Argument √ºbergeben muss, und spart das tippen von <code>$(fzf)</code>. Klar, mit Auto-Vervollst√§ndigung kommt man auch ans Ziel, aber das ist <em>soo</em> viel schneller. Insbesondere wenn man nicht genau im Kopf hat wo die Datei liegt, aber noch wei√ü was in Ihrem Namen oder Pfad vorkommen muss. Das verwende ich die ganze Zeit.</p>
</li>
<li><p><code>‚åÉ-R</code> sucht mit <code>fzf</code> in der Shell-Historie. Das funktioniert viel besser als die Standard-Suche, die nur nach direkt zusammenh√§ngenden Buchstaben suchen kann. Ein Beispiel: Das Wenn ich das Kommando <code>helm template extensions ./k8s/extensions/ --values ./k8s/extensions/values.dev.yaml | yq</code> aus meiner historie suchen m√∂chte, m√ºsste ich ohne <code>fzf</code> den exakten Text schreiben der in dem Kommando vorkommt.</p>
</li>
</ul>
<div class="hll"><pre><span></span>~
Search History&gt; helmtemplateexten
  76/32637 <span class="o">(</span>0<span class="o">)</span>
  02-17 18:07:03 ‚îÇ helm template extensions ./k8s/extensions/ --values ./k8s/extensions/values.dev.yaml
  02-17 18:06:10 ‚îÇ helm template extensions ./k8s/extensions/ --values ./k8s/extensions/values.dev.yaml <span class="o">|</span> yq
  02-17 17:59:53 ‚îÇ helm template extensions ./k8s/extensions/ --values ./k8s/extensions/values-dev.yaml
  02-17 20:22:18 ‚îÇ helm template  extensions ./k8s/extensions/ --values ./k8s/extensions/values.dev.yaml
  02-17 18:15:27 ‚îÇ helm template --debug extensions ./k8s/extensions/ --values ./k8s/extensions/values.dev.yaml
  02-17 17:59:42 ‚îÇ helm template --dry-run --debug extensions ./k8s/extensions/ --values ./k8s/extensions/values-dev.yaml
‚ñå 02-17 17:59:29 ‚îÇ helm template --dry-run --debug  ./k8s/extensions/ --values ./k8s/extensions/values-dev.yaml
  02-17 17:59:36 ‚îÇ helm template --dry-run --debug foo ./k8s/extensions/ --values ./k8s/extensions/values-dev.yaml
‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
‚îÇ helm template --dry-run --debug ./k8s/extensions/ --values ./k8s/extensions/values-dev.yaml  ‚îÇ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ
</pre></div>
<p>Wenn ich oft, wenn ich ein neues Terminal √∂ffne in die gleichen Projekte navigiere, dann geht das prima √ºber die Shell-History:</p>
<div class="hll"><pre><span></span>‚ùØ <span class="c"># ctrl-r f√ºr history suche</span>
Search History&gt; cdmkkapi
  352/32638 <span class="o">(</span>0<span class="o">)</span> ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  08-12 11:56:19 ‚îÇ <span class="k">cd</span> mkk/api
  08-24 19:05:13 ‚îÇ <span class="k">cd</span> ../mkk/api
‚ñå 05-26 08:39:19 ‚îÇ <span class="k">cd</span> Code/Projekte/mkk/api
  07-29 17:02:48 ‚îÇ <span class="k">cd</span> Code/Projekte/mkk/api_infra/
  02-15 08:37:01 ‚îÇ <span class="k">cd</span> Code/Projekte/mkk/api_infra/monitoring/
‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
‚îÇ <span class="k">cd</span> Code/Projekte/mkk/api ‚îÇ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ
</pre></div>
<p>Mit <a href="https://github.com/ajeetdsouza/zoxide">Zoxide</a> geht das noch besser, aber dazu sp√§ter mehr.</p>
<p>So habe ich meine fzf Integration konfiguriert:</p>
<div class="hll"><pre><span></span><span class="c"># configure key-bindings for fzf-fish</span>
<span class="c"># ctrl-f directory search</span>
<span class="c"># ctrl-r history search</span>
<span class="c"># ctlr-v variables search</span>
<span class="c"># ctrl-l git log search</span>
<span class="c"># ctrl-s git status search</span>
<span class="c"># ctrl-p processes pid search</span>
fzf_configure_bindings --git_log<span class="o">=</span><span class="se">\f</span> --directory<span class="o">=</span><span class="se">\c</span>F --git_status<span class="o">=</span><span class="se">\c</span>S --processes<span class="o">=</span><span class="se">\c</span>P
</pre></div>
<p>Das geniale an fzf ist, dass es sich so wunderbar in andere Tools integrieren l√§sst. Hat man es installiert wird es z.B. von <a href="https://github.com/ahmetb/kubectx">KubeCTX</a> verwendet um in <code>kubectx</code> die liste der verbundenen Kubernetes Cluster zu filtern. Oder von <code>kubens</code> um die Liste der Namespaces. Tats√§chlich verwenden viele Werkzeuge intern <code>fzf</code> wenn es instaliert ist. F√ºr mich immer wieder eine sch√∂ne √úberrachung, wenn ein weiteres Werkzeug das ich gerne einsetze <code>fzf</code> verwendet.</p>

    </section>
    
      <footer>
        <a href="2025/5/die-freuden-einer-gut-eingerichteten-shell-fzf/">weiterlesen‚Ä¶</a>
      </footer>
    
  </article>

  
  
  
    
  <div class="pagination">
    
      <span class="disabled">&laquo; Previous</span>
    
    | 1 |
    
      <a href="page/2/">Next &raquo;</a>
    
  </div>

  

    </article>
    <footer class="container-fluid ">
      <ul class="nav">
  <li class="nav-item copyright">
    <span class="nav-link">&copy; 2025 <a href="../work/">Martin H√§cker</a></span>
  </li>
  
    
    <li class="nav-item imprint">
      <a class="nav-link" href="../meta/#imprint">
        Impressum
      </a></li>
  
    
    <li class="nav-item privacy-policy">
      <a class="nav-link" href="../meta/#privacy-policy">
        Datenschutzerkl√§rung
      </a></li>
  
    
    <li class="nav-item colophon">
      <a class="nav-link" href="../meta/#colophon">
        Kolophon
      </a></li>
  
  <li class="ml-auto nav-item rss-feed">
    <a class="nav-link" href="feed.xml">
      <img class="rss-icon" src=/static/rss.svg height=25 width=25>
      <span class="sr-only">RSS-Feed</span>
    </a>
  </li>
  <li class="nav-item license">
    <a class="nav-link" 
      rel="license" 
      target="_blank" 
      href="https://creativecommons.org/licenses/by-sa/4.0/deed.de"
    >
      <img 
        src="/static/cc-by-sa-88x31.png"
        alt="Creative Commons Namensnennung - Weitergabe unter gleichen Bedingungen 4.0 Internationale Lizenz"
      >
    </a>
  </li>
</ul>
    </footer>
  </body>
</html>
